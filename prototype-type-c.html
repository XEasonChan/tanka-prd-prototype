<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type C: Smart Link Suggestion - æ™ºèƒ½è¿æ¥å¼•å¯¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0096f8;
            --primary-light: #e8f4fd;
            --accent: #ffc53d;
            --success: #10b981;
            --success-light: #d1fae5;
            --warning: #f59e0b;
            --error: #ef4444;
            --error-light: #fee2e2;
            --figma: #F24E1E;
            --figma-light: #fef2f0;
            --gray-900: #111827;
            --gray-700: #374151;
            --gray-600: #4b5563;
            --gray-500: #6b7280;
            --gray-400: #9ca3af;
            --gray-300: #d1d5db;
            --gray-200: #e5e7eb;
            --gray-100: #f3f4f6;
            --gray-50: #f9fafb;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--gray-100);
            color: var(--gray-900);
            min-height: 100vh;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 40px 24px;
        }

        .page-header {
            margin-bottom: 32px;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: var(--gray-500);
            font-size: 0.9rem;
        }

        .state-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .state-btn {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid var(--gray-300);
            background: var(--white);
            color: var(--gray-600);
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .state-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .state-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--white);
        }

        .content-layout {
            display: grid;
            grid-template-columns: 1fr 390px;
            gap: 32px;
            align-items: start;
        }

        @media (max-width: 900px) {
            .content-layout {
                grid-template-columns: 1fr;
            }
        }

        .info-panel {
            background: var(--white);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--gray-200);
        }

        .info-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--gray-900);
        }

        .info-content {
            color: var(--gray-600);
            font-size: 0.875rem;
            line-height: 1.7;
        }

        .info-list {
            margin: 12px 0;
            padding-left: 20px;
        }

        .info-list li {
            margin-bottom: 8px;
            color: var(--gray-600);
        }

        .trigger-box {
            background: var(--gray-50);
            border-radius: 8px;
            padding: 12px;
            margin-top: 16px;
            border: 1px solid var(--gray-200);
        }

        .trigger-label {
            font-size: 0.7rem;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .trigger-value {
            color: var(--primary);
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Regex Box */
        .regex-box {
            background: var(--gray-900);
            border-radius: 6px;
            padding: 10px 12px;
            margin-top: 12px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.7rem;
            color: var(--success);
            overflow-x: auto;
        }

        /* Phone Mockup */
        .phone-wrapper {
            display: flex;
            justify-content: center;
        }

        .phone {
            width: 375px;
            background: var(--white);
            border-radius: 32px;
            overflow: hidden;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--gray-200);
        }

        .phone-status-bar {
            height: 44px;
            background: var(--white);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 24px;
        }

        .phone-notch {
            width: 80px;
            height: 24px;
            background: var(--gray-900);
            border-radius: 12px;
        }

        .phone-header {
            background: linear-gradient(135deg, #3B82F6, #8B5CF6);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
        }

        .back-btn {
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .unread-badge {
            background: var(--primary);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 600;
        }

        .avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .header-info h3 {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .phone-content {
            background: var(--white);
            min-height: 480px;
            padding: 16px;
        }

        .state-view {
            display: none;
        }

        .state-view.active {
            display: block;
        }

        /* Chat Message */
        .message {
            margin-bottom: 16px;
        }

        .message-author {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-bottom: 6px;
        }

        .author-avatar {
            width: 18px;
            height: 18px;
            border-radius: 50%;
        }

        .message-bubble {
            background: var(--gray-100);
            border-radius: 12px;
            padding: 12px 14px;
            font-size: 0.85rem;
            color: var(--gray-800);
            line-height: 1.5;
            max-width: 90%;
        }

        .message-link {
            color: var(--figma);
            text-decoration: none;
            word-break: break-all;
            font-size: 0.8rem;
        }

        .message-time {
            font-size: 0.7rem;
            color: var(--gray-400);
            margin-top: 4px;
        }

        /* Smart Chip */
        .smart-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 20px;
            padding: 8px 14px;
            font-size: 0.8rem;
            color: var(--gray-600);
            margin-top: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .smart-chip:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .smart-chip .sparkle {
            color: var(--primary);
        }

        .smart-chip .app-badge {
            background: var(--figma);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
        }

        .smart-chip .close {
            color: var(--gray-400);
            margin-left: 4px;
        }

        .smart-chip.connected {
            background: var(--success-light);
            border-color: var(--success);
            color: var(--success);
        }

        /* Connecting Chip */
        .connecting-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-light);
            border: 1px solid var(--primary);
            border-radius: 20px;
            padding: 8px 14px;
            font-size: 0.8rem;
            color: var(--primary);
            margin-top: 8px;
        }

        .spinner-small {
            width: 14px;
            height: 14px;
            border: 2px solid rgba(0, 150, 248, 0.3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* AI Response Card */
        .ai-response {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 14px;
            margin-top: 16px;
        }

        .ai-response-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
            font-size: 0.8rem;
            color: var(--gray-600);
        }

        .ai-response-header .icon {
            color: var(--success);
        }

        .ai-response-content {
            font-size: 0.85rem;
            color: var(--gray-700);
            line-height: 1.6;
        }

        .ai-response-content ul {
            margin: 8px 0 0 16px;
            font-size: 0.8rem;
        }

        .ai-response-content li {
            margin-bottom: 4px;
        }

        /* Chat Input */
        .chat-input {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--white);
            border-top: 1px solid var(--gray-200);
        }

        .chat-input input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 0.85rem;
            color: var(--gray-800);
            font-family: inherit;
        }

        .chat-input input::placeholder {
            color: var(--gray-400);
        }

        .chat-input button {
            background: none;
            border: none;
            color: var(--gray-400);
            font-size: 1.1rem;
            cursor: pointer;
        }

        /* AI Conversation Bubbles */
        .ai-conversation {
            background: var(--gray-50);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 16px;
            border: 1px solid var(--gray-200);
        }

        .ai-conversation-label {
            font-size: 0.7rem;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-conversation-label .icon {
            color: var(--primary);
        }

        .chat-bubble {
            margin-bottom: 10px;
            max-width: 85%;
        }

        .chat-bubble:last-child {
            margin-bottom: 0;
        }

        .chat-bubble.user {
            margin-left: auto;
        }

        .chat-bubble.ai {
            margin-right: auto;
        }

        .bubble-content {
            padding: 10px 14px;
            border-radius: 16px;
            font-size: 0.8rem;
            line-height: 1.5;
        }

        .chat-bubble.user .bubble-content {
            background: var(--primary);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .chat-bubble.ai .bubble-content {
            background: var(--white);
            color: var(--gray-700);
            border: 1px solid var(--gray-200);
            border-bottom-left-radius: 4px;
        }

        .bubble-sender {
            font-size: 0.65rem;
            color: var(--gray-500);
            margin-bottom: 4px;
        }

        .chat-bubble.user .bubble-sender {
            text-align: right;
        }

        /* Group Message Preview Box */
        .group-message-preview {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 10px;
            padding: 10px 12px;
            margin-top: 8px;
        }

        .group-preview-header {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.7rem;
            color: var(--gray-500);
            margin-bottom: 6px;
        }

        .group-preview-header .group-icon {
            font-size: 0.8rem;
        }

        .group-preview-content {
            font-size: 0.75rem;
            color: var(--gray-600);
            line-height: 1.4;
        }

        .group-preview-link {
            color: var(--figma);
            word-break: break-all;
            font-size: 0.7rem;
        }

        /* Flow Steps */
        .flow-steps {
            margin-top: 20px;
        }

        .flow-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .flow-step:last-child {
            border-bottom: none;
        }

        .step-number {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--gray-200);
            color: var(--gray-500);
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .step-number.active {
            background: var(--primary);
            color: white;
        }

        .step-number.done {
            background: var(--success);
            color: white;
        }

        .step-content h4 {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 2px;
        }

        .step-content p {
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        /* App List */
        .app-list {
            margin-top: 20px;
        }

        .app-list-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 12px;
        }

        .app-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .app-item .icon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 700;
            color: white;
        }

        .app-item .icon.gdocs { background: #4285F4; }
        .app-item .icon.gsheets { background: #0F9D58; }
        .app-item .icon.gslides { background: #F4B400; }
        .app-item .icon.figma { background: var(--figma); }
        .app-item .icon.notion { background: #000; }
        .app-item .icon.confluence { background: #0052CC; }

        .app-item .name {
            font-size: 0.8rem;
            color: var(--gray-700);
            flex: 1;
        }

        .app-item .pattern {
            font-size: 0.65rem;
            color: var(--gray-500);
            font-family: 'SF Mono', Monaco, monospace;
        }

        /* Status Indicator */
        .status-indicator {
            text-align: center;
            margin-top: 16px;
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        .status-indicator.success {
            color: var(--success);
        }

        .status-indicator.processing {
            color: var(--primary);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--primary);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 24px;
            padding: 8px 16px;
            background: var(--white);
            border-radius: 8px;
            border: 1px solid var(--gray-200);
            transition: all 0.2s ease;
        }

        .back-link:hover {
            background: var(--primary-light);
            border-color: var(--primary);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">â† è¿”å› PRD</a>
        <div class="page-header">
            <h1 class="page-title">Type C: Smart Link Suggestion</h1>
            <p class="page-subtitle">æ™ºèƒ½è¿æ¥å¼•å¯¼ - ç¾¤èŠ URL Regex Triggerï¼ˆSurface 2ï¼‰</p>
        </div>

        <div class="state-nav">
            <button class="state-btn active" data-state="url-detected">1. URL Detected</button>
            <button class="state-btn" data-state="show-chip">2. Show Smart Chip</button>
            <button class="state-btn" data-state="connecting">3. Connecting</button>
            <button class="state-btn" data-state="connected">4. Connected</button>
            <button class="state-btn" data-state="reprocess">5. Re-process</button>
            <button class="state-btn" data-state="dismissed">6. Dismissed</button>
        </div>

        <div class="content-layout">
            <div class="info-panel">
                <!-- URL Detected Info -->
                <div class="state-info active" data-info="url-detected">
                    <h3 class="info-title">URL Detected çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>ç¾¤èŠæ”¶åˆ°æ–°æ¶ˆæ¯ï¼Œç³»ç»Ÿæå–æ¶ˆæ¯ä¸­çš„ URL å¹¶åŒ¹é…ç™½åå•æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
                        <ul class="info-list">
                            <li>å®æ—¶ç›‘å¬ç¾¤æ¶ˆæ¯</li>
                            <li>æå–æ¶ˆæ¯ä¸­çš„ URL</li>
                            <li>åŒ¹é…é«˜é¢‘ SaaS å·¥å…· URL è§„åˆ™</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">æ£€æµ‹åˆ°çš„ URL</div>
                            <div class="trigger-value">figma.com/design/jFWV7mEpNPRq...</div>
                        </div>
                        <div class="regex-box">
                            Pattern: figma.com/(?:file|proto|design)/*
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number active">1</div>
                            <div class="step-content">
                                <h4>æå– URL</h4>
                                <p>ä»æ¶ˆæ¯ä¸­æå–æ‰€æœ‰ URL</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>åŒ¹é… Regex</h4>
                                <p>æ£€æŸ¥æ˜¯å¦å‘½ä¸­ç™½åå•</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>æ£€æŸ¥è¿æ¥çŠ¶æ€</h4>
                                <p>æŸ¥è¯¢ integration status</p>
                            </div>
                        </div>
                    </div>
                    <div class="app-list">
                        <div class="app-list-title">æ”¯æŒçš„ App ç™½åå•</div>
                        <div class="app-item">
                            <div class="icon gdocs">D</div>
                            <span class="name">Google Docs</span>
                            <span class="pattern">docs.google.com/document/*</span>
                        </div>
                        <div class="app-item">
                            <div class="icon gsheets">S</div>
                            <span class="name">Google Sheets</span>
                            <span class="pattern">docs.google.com/spreadsheets/*</span>
                        </div>
                        <div class="app-item">
                            <div class="icon gslides">P</div>
                            <span class="name">Google Slides</span>
                            <span class="pattern">docs.google.com/presentation/*</span>
                        </div>
                        <div class="app-item">
                            <div class="icon figma">F</div>
                            <span class="name">Figma</span>
                            <span class="pattern">figma.com/file/*</span>
                        </div>
                        <div class="app-item">
                            <div class="icon notion">N</div>
                            <span class="name">Notion</span>
                            <span class="pattern">notion.so/*</span>
                        </div>
                        <div class="app-item">
                            <div class="icon confluence">C</div>
                            <span class="name">Confluence</span>
                            <span class="pattern">*.atlassian.net/wiki/*</span>
                        </div>
                    </div>
                </div>

                <!-- Show Chip Info -->
                <div class="state-info" data-info="show-chip" style="display:none;">
                    <h3 class="info-title">Show Smart Chip çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>URL å‘½ä¸­ç™½åå•ä¸”ç”¨æˆ·æœªè¿æ¥è¯¥ Appï¼Œå±•ç¤º Smart Chip å¼•å¯¼è¿æ¥ã€‚</p>
                        <ul class="info-list">
                            <li>å¾®å‹ Bar æ˜¾ç¤ºåœ¨æ¶ˆæ¯ä¸‹æ–¹</li>
                            <li>å±•ç¤º âœ¨ å›¾æ ‡ + App åç§°</li>
                            <li>ç‚¹å‡»è§¦å‘è¿æ¥æµç¨‹</li>
                            <li>æä¾›å…³é—­æŒ‰é’®</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">Smart Chip Copy</div>
                            <div class="trigger-value">âœ¨ Link Figma to your memory</div>
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>URL å‘½ä¸­ Figma</h4>
                                <p>åŒ¹é… figma.com/design/* è§„åˆ™</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>æ£€æµ‹åˆ°æœªè¿æ¥</h4>
                                <p>integration status = false</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number active">3</div>
                            <div class="step-content">
                                <h4>å±•ç¤º Smart Chip</h4>
                                <p>å¼•å¯¼ç”¨æˆ·è¿æ¥ Figma</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Connecting Info -->
                <div class="state-info" data-info="connecting" style="display:none;">
                    <h3 class="info-title">Connecting çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>ç”¨æˆ·ç‚¹å‡» Connect åï¼Œè·³è½¬åˆ° OAuth æˆæƒæµç¨‹ã€‚</p>
                        <ul class="info-list">
                            <li>è·³è½¬åˆ° Link æ¨¡å—</li>
                            <li>èµ° OAuth/API Link æµç¨‹</li>
                            <li>Smart Chip æ˜¾ç¤ºè¿æ¥ä¸­çŠ¶æ€</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">è§¦å‘æ¡ä»¶</div>
                            <div class="trigger-value">ç”¨æˆ·ç‚¹å‡» Smart Chip</div>
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>ç”¨æˆ·ç‚¹å‡»è¿æ¥</h4>
                                <p>è§¦å‘ OAuth æˆæƒ</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number active">2</div>
                            <div class="step-content">
                                <h4>OAuth æˆæƒä¸­</h4>
                                <p>ç­‰å¾…ç”¨æˆ·æˆæƒå®Œæˆ</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>ç»‘å®šå›è°ƒ</h4>
                                <p>å¤„ç†æˆæƒç»“æœ</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Connected Info -->
                <div class="state-info" data-info="connected" style="display:none;">
                    <h3 class="info-title">Connected çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>OAuth æˆæƒæˆåŠŸï¼ŒApp å·²è¿æ¥ã€‚ç³»ç»Ÿè‡ªåŠ¨è§¦å‘ Re-processã€‚</p>
                        <ul class="info-list">
                            <li>Smart Chip æ›´æ–°ä¸ºå·²è¿æ¥çŠ¶æ€</li>
                            <li>æ˜¾ç¤ºç»¿è‰²å‹¾é€‰æ ‡è¯†</li>
                            <li>è‡ªåŠ¨è§¦å‘æ¶ˆæ¯ Re-process</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">è§¦å‘æ¡ä»¶</div>
                            <div class="trigger-value">OAuth å›è°ƒæˆåŠŸ</div>
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>OAuth æˆæƒæˆåŠŸ</h4>
                                <p>è·å–åˆ° Figma access token</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>æ›´æ–°è¿æ¥çŠ¶æ€</h4>
                                <p>integration status = true</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number active">3</div>
                            <div class="step-content">
                                <h4>è§¦å‘ Re-process</h4>
                                <p>AI å¼€å§‹è¯»å–é“¾æ¥å†…å®¹</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reprocess Info -->
                <div class="state-info" data-info="reprocess" style="display:none;">
                    <h3 class="info-title">Re-process çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>è¿æ¥æˆåŠŸåï¼ŒAI å¯ä»¥è¯»å–é“¾æ¥å†…å®¹ï¼Œä¸ºåç»­å¯¹è¯æä¾›ä¸Šä¸‹æ–‡æ”¯æŒã€‚</p>
                        <ul class="info-list">
                            <li>AI è·å¾—é“¾æ¥å†…å®¹çš„è¯»å–æƒé™</li>
                            <li>å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡å­˜å…¥è®°å¿†</li>
                            <li>ç”¨æˆ·å¯ä»¥éšæ—¶è¯¢é—®ç›¸å…³é—®é¢˜</li>
                            <li>ä¸è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ï¼Œç”±ç”¨æˆ·ä¸»åŠ¨è§¦å‘</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">Re-process ç»“æœ</div>
                            <div class="trigger-value">é“¾æ¥å†…å®¹å·²åŠ å…¥ä¸Šä¸‹æ–‡ï¼Œç­‰å¾…ç”¨æˆ·æŒ‡ä»¤</div>
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>è·å–è®¿é—®æƒé™</h4>
                                <p>é€šè¿‡ OAuth è·å¾— Figma API æƒé™</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>è¯»å–é“¾æ¥å†…å®¹</h4>
                                <p>AI å¯è®¿é—®é“¾æ¥ä¸­çš„è®¾è®¡æ–‡ä»¶</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number active">3</div>
                            <div class="step-content">
                                <h4>ç­‰å¾…ç”¨æˆ·æŒ‡ä»¤</h4>
                                <p>ç”¨æˆ·å¯ä¸»åŠ¨è¯¢é—®æˆ–è¯·æ±‚åˆ†æ</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dismissed Info -->
                <div class="state-info" data-info="dismissed" style="display:none;">
                    <h3 class="info-title">Dismissed çŠ¶æ€</h3>
                    <div class="info-content">
                        <p>ç”¨æˆ·ç‚¹å‡»å…³é—­æŒ‰é’®ï¼ŒSmart Chip æ¶ˆå¤±ï¼Œè®°å½• link_dismissed äº‹ä»¶ã€‚</p>
                        <ul class="info-list">
                            <li>Smart Chip ä»ç•Œé¢æ¶ˆå¤±</li>
                            <li>è®°å½• link_dismissed åŸ‹ç‚¹</li>
                            <li>ä¸å†å¯¹è¯¥æ¶ˆæ¯é‡å¤å¼¹å‡º</li>
                        </ul>
                        <div class="trigger-box">
                            <div class="trigger-label">åŸ‹ç‚¹äº‹ä»¶</div>
                            <div class="trigger-value">link_dismissed: { ruleId: A3, app: figma }</div>
                        </div>
                    </div>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>ç”¨æˆ·ç‚¹å‡»å…³é—­</h4>
                                <p>ä¸æƒ³è¿æ¥ Figma</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number done">âœ“</div>
                            <div class="step-content">
                                <h4>è®°å½•åŸ‹ç‚¹</h4>
                                <p>link_dismissed äº‹ä»¶</p>
                            </div>
                        </div>
                        <div class="flow-step">
                            <div class="step-number active">3</div>
                            <div class="step-content">
                                <h4>æ¢å¤æ­£å¸¸çŠ¶æ€</h4>
                                <p>æ¶ˆæ¯ä¿ç•™ï¼Œä¸å†æç¤º</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="phone-wrapper">
                <div class="phone">
                    <div class="phone-status-bar">
                        <div class="phone-notch"></div>
                    </div>
                    <div class="phone-header">
                        <span class="back-btn">&lt;</span>
                        <div class="avatar">ğŸ¤–</div>
                        <div class="header-info">
                            <h3>Tanka Memory AI</h3>
                        </div>
                    </div>
                    <div class="phone-content">
                        <!-- URL Detected State -->
                        <div class="state-view active" data-view="url-detected">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                            <div class="status-indicator processing">
                                æ£€æµ‹åˆ° Figma é“¾æ¥...
                            </div>
                        </div>

                        <!-- Show Chip State -->
                        <div class="state-view" data-view="show-chip">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                                <div class="chat-bubble ai">
                                    <div class="bubble-sender">Tanka AI</div>
                                    <div class="bubble-content">
                                        æˆ‘çœ‹åˆ°ç¾¤é‡Œæœ‰ä¸€ä¸ª Figma é“¾æ¥ã€‚ä¸è¿‡ä½ è¿˜æ²¡æœ‰è¿æ¥ Figmaï¼Œè¿æ¥åæˆ‘å°±èƒ½å¸®ä½ æŸ¥çœ‹è®¾è®¡ç¨¿å†…å®¹äº†ã€‚
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="smart-chip" onclick="switchState('connecting')">
                                    <span class="sparkle">âœ¨</span>
                                    Link Figma to your memory
                                    <span class="app-badge">F</span>
                                    <span class="close" onclick="event.stopPropagation(); switchState('dismissed');">Ã—</span>
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                        </div>

                        <!-- Connecting State -->
                        <div class="state-view" data-view="connecting">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                                <div class="chat-bubble ai">
                                    <div class="bubble-sender">Tanka AI</div>
                                    <div class="bubble-content">
                                        æ­£åœ¨è¿æ¥ä½ çš„ Figma è´¦å·ï¼Œè¯·åœ¨å¼¹å‡ºçš„çª—å£ä¸­å®Œæˆæˆæƒ...
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="connecting-chip">
                                    <span class="spinner-small"></span>
                                    Connecting to Figma...
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                        </div>

                        <!-- Connected State -->
                        <div class="state-view" data-view="connected">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                                <div class="chat-bubble ai">
                                    <div class="bubble-sender">Tanka AI</div>
                                    <div class="bubble-content">
                                        Figma è¿æ¥æˆåŠŸï¼æ­£åœ¨è¯»å–è®¾è®¡ç¨¿å†…å®¹...
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="smart-chip connected">
                                    âœ“ Figma connected
                                    <span class="app-badge">F</span>
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                            <div class="status-indicator processing">
                                æ­£åœ¨è¯»å– Figma è®¾è®¡ç¨¿...
                            </div>
                        </div>

                        <!-- Reprocess State -->
                        <div class="state-view" data-view="reprocess">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="smart-chip connected">
                                    âœ“ Figma connected
                                    <span class="app-badge">F</span>
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                            <div class="ai-response">
                                <div class="ai-response-header">
                                    <span class="icon">âœ“</span>
                                    Tanka AI
                                </div>
                                <div class="ai-response-content">
                                    <p>è¿™æ˜¯ä¸€ä»½ã€ŒApp é¦–é¡µæ”¹ç‰ˆã€çš„è®¾è®¡ç¨¿ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦å†…å®¹ï¼š</p>
                                    <ul>
                                        <li><strong>é¡¶éƒ¨å¯¼èˆªï¼š</strong>æ–°å¢æœç´¢å…¥å£å’Œé€šçŸ¥ä¸­å¿ƒ</li>
                                        <li><strong>å†…å®¹ Feedï¼š</strong>é‡‡ç”¨å¡ç‰‡å¼å¸ƒå±€ï¼Œæ”¯æŒå¤šç§å†…å®¹ç±»å‹</li>
                                        <li><strong>åº•éƒ¨ Tabï¼š</strong>5 ä¸ªä¸»è¦åŠŸèƒ½å…¥å£</li>
                                    </ul>
                                    <p style="margin-top: 8px; color: var(--gray-500); font-size: 0.75rem;">éœ€è¦æˆ‘å¸®ä½ è¯¦ç»†åˆ†ææŸä¸ªéƒ¨åˆ†å—ï¼Ÿ</p>
                                </div>
                            </div>
                        </div>

                        <!-- Dismissed State -->
                        <div class="state-view" data-view="dismissed">
                            <div class="ai-conversation">
                                <div class="ai-conversation-label">
                                    <span class="icon">ğŸ’¬</span> å¯¹è¯ä¸Šä¸‹æ–‡
                                </div>
                                <div class="chat-bubble user">
                                    <div class="bubble-sender">ä½ </div>
                                    <div class="bubble-content">
                                        è®¾è®¡ç»„åˆšåœ¨ç¾¤é‡Œå‘äº†æ–°çš„è®¾è®¡ç¨¿ï¼Œå¸®æˆ‘çœ‹çœ‹æ˜¯å…³äºä»€ä¹ˆçš„
                                    </div>
                                </div>
                                <div class="chat-bubble ai">
                                    <div class="bubble-sender">Tanka AI</div>
                                    <div class="bubble-content">
                                        æˆ‘çœ‹åˆ°ç¾¤é‡Œæœ‰ä¸€ä¸ª Figma é“¾æ¥ï¼Œä½†ç”±äºæ²¡æœ‰è¿æ¥ Figmaï¼Œæˆ‘æš‚æ—¶æ— æ³•æŸ¥çœ‹è®¾è®¡ç¨¿å†…å®¹ã€‚ä½ å¯ä»¥ç¨ååœ¨è®¾ç½®ä¸­è¿æ¥ Figmaã€‚
                                    </div>
                                </div>
                            </div>
                            <div class="message">
                                <div class="message-author">
                                    <div class="author-avatar" style="background: #E91E63;"></div>
                                    ç¾¤æ¶ˆæ¯ Â· Meizhen XU
                                </div>
                                <div class="message-bubble">
                                    @Kai WANG @Meizhen XU æ–°ç‰ˆé¦–é¡µè®¾è®¡ç¨¿æ¥äº†<br><br>
                                    <a href="#" class="message-link">https://www.figma.com/design/jFWV7mEpNPRqBwXjEPFNPT/...</a>
                                </div>
                                <div class="message-time">15:12</div>
                            </div>
                            <div class="status-indicator">
                                Smart Chip å·²å…³é—­
                            </div>
                        </div>
                    </div>
                    <div class="chat-input">
                        <button type="button">+</button>
                        <input type="text" placeholder="è¾“å…¥æ¶ˆæ¯...">
                        <button type="button">ğŸ˜Š</button>
                        <button type="button">ğŸ¤</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchState(state) {
            document.querySelectorAll('.state-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.state === state) {
                    btn.classList.add('active');
                }
            });

            document.querySelectorAll('.state-view').forEach(view => {
                view.classList.remove('active');
                if (view.dataset.view === state) {
                    view.classList.add('active');
                }
            });

            document.querySelectorAll('.state-info').forEach(info => {
                info.style.display = 'none';
                if (info.dataset.info === state) {
                    info.style.display = 'block';
                }
            });
        }

        document.querySelectorAll('.state-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                switchState(btn.dataset.state);
            });
        });
    </script>
</body>
</html>
